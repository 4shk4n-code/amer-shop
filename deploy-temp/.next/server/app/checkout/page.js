(()=>{var e={};e.id=285,e.ids=[285],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2084:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d}),t(51324),t(18702),t(35866);var r=t(23191),a=t(88716),l=t(37922),i=t.n(l),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51324)),"E:\\amertrading.shop\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,18702)),"E:\\amertrading.shop\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\amertrading.shop\\src\\app\\checkout\\page.tsx"],m="/checkout/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},71006:(e,s,t)=>{Promise.resolve().then(t.bind(t,82413))},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},28916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},9015:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},82413:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(10326),a=t(17577),l=t(35047),i=t(90434);let n=(0,t(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=t(9015),d=t(28916),o=t(30361),m=t(84176);function u(){let e=(0,l.useRouter)(),[s,u]=(0,a.useState)([]),[x,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)({customerName:"",customerEmail:"",customerPhone:"",shippingAddress:"",paymentMethod:"cash_on_delivery",notes:""}),y=s.reduce((e,s)=>e+s.price*s.quantity,0),j=y>100?0:15,b=y+j,f=async r=>{r.preventDefault(),p(!0);try{let r={customerName:h.customerName,customerEmail:h.customerEmail,customerPhone:h.customerPhone,shippingAddress:h.shippingAddress,paymentMethod:h.paymentMethod,notes:h.notes,items:s.map(e=>({productId:e.id,productName:e.name,price:e.price,quantity:e.quantity})),totalAmount:b},a=(0,m.Pc)(),l={"Content-Type":"application/json"};a&&(l.Authorization=`Bearer ${a}`);let i=await fetch("/api/orders",{method:"POST",headers:l,body:JSON.stringify(r)}),n=await i.json();if(i.ok){let{clearCart:s}=await t.e(562).then(t.bind(t,12562));s(),e.push(`/checkout/success?order=${n.orderNumber}`)}else alert("Error placing order: "+(n.error||"Unknown error")),p(!1)}catch(e){alert("Error: "+e),p(!1)}};return 0===s.length?r.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-12 text-center max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add items to your cart to checkout"}),r.jsx(i.default,{href:"/products",className:"inline-block bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700",children:"Browse Products"})]})})}):r.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)(i.default,{href:"/cart",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[r.jsx(n,{className:"w-4 h-4"}),"Back to Cart"]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(c.Z,{className:"w-5 h-5 text-green-600"}),r.jsx("h1",{className:"text-2xl font-bold",children:"Secure Checkout"})]}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",required:!0,value:h.customerName,onChange:e=>g({...h,customerName:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:h.customerEmail,onChange:e=>g({...h,customerEmail:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),r.jsx("input",{type:"tel",required:!0,value:h.customerPhone,onChange:e=>g({...h,customerPhone:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"+971 XX XXX XXXX"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shipping Address"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complete Address *"}),r.jsx("textarea",{required:!0,value:h.shippingAddress,onChange:e=>g({...h,shippingAddress:e.target.value}),rows:4,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Street address, Building, Apartment, City, Country"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Method"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cash_on_delivery",checked:"cash_on_delivery"===h.paymentMethod,onChange:e=>g({...h,paymentMethod:e.target.value}),className:"w-4 h-4"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50 opacity-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"card",disabled:!0,className:"w-4 h-4"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"font-medium flex items-center gap-2",children:["Credit/Debit Card",r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Secure online payment"})]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Order Notes (Optional)"}),r.jsx("textarea",{value:h.notes,onChange:e=>g({...h,notes:e.target.value}),rows:3,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Special instructions for delivery..."})]}),r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?"Processing...":(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{className:"w-5 h-5"}),"Place Order"]})})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),r.jsx("div",{className:"space-y-3 mb-4",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Qty: ",e.quantity]})]}),(0,r.jsxs)("p",{className:"font-semibold",children:["AED ",(e.price*e.quantity).toFixed(2)]})]},e.id))}),(0,r.jsxs)("div",{className:"border-t pt-4 space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:["AED ",y.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{children:0===j?"Free":`AED ${j.toFixed(2)}`})]}),y<100&&(0,r.jsxs)("p",{className:"text-sm text-accent-600",children:["Add AED ",(100-y).toFixed(2)," more for free shipping"]}),(0,r.jsxs)("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Total"}),(0,r.jsxs)("span",{className:"text-primary-600",children:["AED ",b.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[r.jsx(o.Z,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Secure checkout"})]})]})})]})]})})}},51324:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`E:\amertrading.shop\src\app\checkout\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,302,974],()=>t(2084));module.exports=r})();