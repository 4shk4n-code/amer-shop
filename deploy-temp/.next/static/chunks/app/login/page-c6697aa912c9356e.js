(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9140:function(e,t,r){Promise.resolve().then(r.bind(r,5340))},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9345:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},5340:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),a=r(2265),s=r(9376),o=r(7648);let u=(0,r(9205).Z)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var i=r(9345),l=r(6337),c=r(5384);function d(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),[h,f]=(0,a.useState)({email:"",password:""}),p=async t=>{t.preventDefault(),m(""),r(!0);try{let t=await fetch("/api/auth/customer-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),r=await t.json();t.ok&&r.success?((0,c.nT)(r.token),(0,c.Xg)(r.user),e.push("/account")):m(r.error||"Login failed")}catch(e){m("Login error. Please try again.")}finally{r(!1)}};return(0,n.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)(u,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Sign In"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome back to AMER SHOP"})]}),d&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:d}),(0,n.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,n.jsx)("input",{type:"email",required:!0,value:h.email,onChange:e=>f({...h,email:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"your@email.com"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,n.jsx)("input",{type:"password",required:!0,value:h.password,onChange:e=>f({...h,password:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your password"})]})]}),(0,n.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Signing in...":"Sign In"})]}),(0,n.jsx)("div",{className:"mt-6 text-center space-y-2",children:(0,n.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,n.jsx)(o.default,{href:"/register",className:"text-primary-600 hover:underline font-medium",children:"Create one"})]})})]})})})}},5384:function(e,t,r){"use strict";function n(){return localStorage.getItem("customer_token")}function a(e){localStorage.setItem("customer_token",e)}function s(){localStorage.removeItem("customer_token")}function o(){let e=localStorage.getItem("customer_user");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function u(e){localStorage.setItem("customer_user",JSON.stringify(e))}function i(){localStorage.removeItem("customer_user")}function l(){return null!==n()}r.d(t,{DW:function(){return l},PX:function(){return i},Pc:function(){return n},Xg:function(){return u},jy:function(){return o},nT:function(){return a},v4:function(){return s}})}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=9140)}),_N_E=e.O()}]);