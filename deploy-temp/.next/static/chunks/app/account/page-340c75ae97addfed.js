(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{6836:function(e,s,t){Promise.resolve().then(t.bind(t,6318))},8997:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7692:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4794:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3041:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},5868:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},6318:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var r=t(7437),a=t(2265),l=t(9376),n=t(7648),i=t(2369),c=t(4794),d=t(8997);let o=(0,t(9205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=t(7692),x=t(5868),u=t(9345),h=t(3041),p=t(3774),g=t(5384),f=t(5592);function y(){let e=(0,l.useRouter)(),[s,t]=(0,a.useState)("overview"),[y,j]=(0,a.useState)(null),[N,b]=(0,a.useState)([]),[v,w]=(0,a.useState)(!0),{favorites:k}=(0,f.r)();(0,a.useEffect)(()=>{if(!(0,g.DW)()){e.push("/login");return}let s=(0,g.jy)();s&&(j(s),Z()),w(!1)},[e]);let Z=async()=>{try{let e=localStorage.getItem("customer_token"),s=await fetch("/api/orders/customer",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();b(e.orders||[])}}catch(e){console.error("Error fetching orders:",e)}};if(v)return(0,r.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsx)("div",{className:"text-center py-12",children:"Loading..."})})});if(!y)return null;let S="".concat(y.firstName||""," ").concat(y.lastName||"").trim()||y.email;return(0,r.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"My Account"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,r.jsx)("aside",{className:"md:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"w-6 h-6 text-primary-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:S}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:y.email})]})]}),(0,r.jsxs)("nav",{className:"space-y-2",children:[(0,r.jsxs)("button",{onClick:()=>t("overview"),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat("overview"===s?"bg-primary-100 text-primary-600":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(i.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Overview"})]}),(0,r.jsxs)("button",{onClick:()=>t("orders"),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat("orders"===s?"bg-primary-100 text-primary-600":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"My Orders"})]}),(0,r.jsxs)("button",{onClick:()=>t("wishlist"),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat("wishlist"===s?"bg-primary-100 text-primary-600":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(d.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Wishlist"})]}),(0,r.jsxs)("button",{onClick:()=>t("settings"),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat("settings"===s?"bg-primary-100 text-primary-600":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(o,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsxs)("button",{onClick:()=>{(0,g.v4)(),(0,g.PX)(),e.push("/")},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})}),(0,r.jsxs)("div",{className:"md:col-span-3",children:["overview"===s&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Account Overview"}),(0,r.jsxs)("button",{className:"flex items-center gap-2 text-primary-600 hover:text-primary-700",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Edit"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Full Name"}),(0,r.jsx)("p",{className:"font-medium",children:S})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,r.jsx)("p",{className:"font-medium",children:y.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Phone"}),(0,r.jsx)("p",{className:"font-medium",children:y.phone||"Not provided"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(p.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Address"}),(0,r.jsx)("p",{className:"font-medium",children:"Address not set"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)(c.Z,{className:"w-8 h-8 text-primary-600 mb-3"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:N.length}),(0,r.jsx)("p",{className:"text-gray-600",children:"Total Orders"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)(d.Z,{className:"w-8 h-8 text-red-500 mb-3"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:k.length}),(0,r.jsx)("p",{className:"text-gray-600",children:"Wishlist Items"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mb-3",children:(0,r.jsx)("span",{className:"text-green-600 font-bold",children:"AED"})}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:N.reduce((e,s)=>e+s.total,0).toFixed(2)}),(0,r.jsx)("p",{className:"text-gray-600",children:"Total Spent"})]})]})]}),"orders"===s&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"My Orders"}),0===N.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(c.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"No orders yet"}),(0,r.jsx)(n.default,{href:"/products",className:"inline-block mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"Start Shopping →"})]}):(0,r.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold",children:["Order #",e.orderNumber]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Placed on ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-bold text-lg",children:["AED ",e.totalAmount.toFixed(2)]}),(0,r.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("delivered"===e.status?"bg-green-100 text-green-700":"processing"===e.status||"shipped"===e.status?"bg-blue-100 text-blue-700":"cancelled"===e.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.itemCount," item(s)"]}),(0,r.jsx)(n.default,{href:"/orders/".concat(e.id),className:"text-primary-600 hover:text-primary-700 font-medium text-sm",children:"View Details →"})]})]},e.id))})]}),"wishlist"===s&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"My Wishlist"}),0===k.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(d.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Your wishlist is empty"}),(0,r.jsx)(n.default,{href:"/products",className:"inline-block mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"Browse Products →"})]}):(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:k.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 flex gap-4 hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded flex-shrink-0 overflow-hidden",children:e.image?(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"No Image"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:e.name}),(0,r.jsxs)("p",{className:"text-lg font-bold text-primary-600 mb-3",children:["AED ",e.price.toFixed(2)]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.default,{href:"/products/".concat(e.id),className:"flex-1 bg-primary-600 text-white text-center py-2 rounded-lg hover:bg-primary-700 text-sm font-medium",children:"View Product"}),(0,r.jsx)(n.default,{href:"/wishlist",className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Manage"})]})]})]},e.id))})]}),"settings"===s&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Account Settings"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,r.jsx)("input",{type:"text",defaultValue:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,r.jsx)("input",{type:"email",defaultValue:y.email,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",defaultValue:y.phone||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,r.jsx)("textarea",{defaultValue:y.address,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Password"}),(0,r.jsx)("input",{type:"password",placeholder:"Enter new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 mb-2"}),(0,r.jsx)("input",{type:"password",placeholder:"Confirm new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"})]}),(0,r.jsx)("button",{className:"bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700",children:"Save Changes"})]})]})]})]})]})})}},5384:function(e,s,t){"use strict";function r(){return localStorage.getItem("customer_token")}function a(e){localStorage.setItem("customer_token",e)}function l(){localStorage.removeItem("customer_token")}function n(){let e=localStorage.getItem("customer_user");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function i(e){localStorage.setItem("customer_user",JSON.stringify(e))}function c(){localStorage.removeItem("customer_user")}function d(){return null!==r()}t.d(s,{DW:function(){return d},PX:function(){return c},Pc:function(){return r},Xg:function(){return i},jy:function(){return n},nT:function(){return a},v4:function(){return l}})},5592:function(e,s,t){"use strict";t.d(s,{r:function(){return l}});var r=t(2265);let a="amer_shop_favorites";function l(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(a);e&&s(JSON.parse(e))}catch(e){console.error("Failed to load favorites:",e)}finally{l(!0)}},[]),(0,r.useEffect)(()=>{if(t)try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Failed to save favorites:",e)}},[e,t]);let n=e=>{s(s=>s.some(s=>s.id===e.id)?s:[...s,e])},i=e=>{s(s=>s.filter(s=>s.id!==e))},c=s=>e.some(e=>e.id===s);return{favorites:e,addToFavorites:n,removeFromFavorites:i,toggleFavorite:e=>{c(e.id)?i(e.id):n(e)},isFavorite:c,clearFavorites:()=>{s([])},isLoaded:t}}}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=6836)}),_N_E=e.O()}]);