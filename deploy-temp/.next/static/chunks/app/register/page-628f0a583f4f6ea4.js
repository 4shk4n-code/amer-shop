(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{984:function(e,t,r){Promise.resolve().then(r.bind(r,1432))},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9345:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},3041:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1432:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(7437),a=r(2265),n=r(9376),l=r(7648);let o=(0,r(9205).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var i=r(2369),c=r(9345),u=r(3041),d=r(6337),m=r(5384);function f(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(!1),[f,h]=(0,a.useState)(""),[p,x]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),y=async t=>{if(t.preventDefault(),h(""),r(!0),p.password!==p.confirmPassword){h("Passwords do not match"),r(!1);return}if(p.password.length<6){h("Password must be at least 6 characters"),r(!1);return}try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.email,password:p.password,firstName:p.firstName,lastName:p.lastName,phone:p.phone})}),r=await t.json();t.ok&&r.success?((0,m.nT)(r.token),(0,m.Xg)(r.user),e.push("/account")):h(r.error||"Registration failed")}catch(e){h("Registration error. Please try again.")}finally{r(!1)}};return(0,s.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(o,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Create Account"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Join AMER SHOP today"})]}),f&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:f}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"First Name *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",required:!0,value:p.firstName,onChange:e=>x({...p,firstName:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"John"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Last Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:p.lastName,onChange:e=>x({...p,lastName:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Doe"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"email",required:!0,value:p.email,onChange:e=>x({...p,email:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"john@example.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:p.phone,onChange:e=>x({...p,phone:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"+971 50 123 4567"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"password",required:!0,value:p.password,onChange:e=>x({...p,password:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"At least 6 characters"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Confirm Password *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"password",required:!0,value:p.confirmPassword,onChange:e=>x({...p,confirmPassword:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Confirm your password"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating Account...":"Create Account"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(l.default,{href:"/login",className:"text-primary-600 hover:underline font-medium",children:"Sign in"})]})})]})})})}},5384:function(e,t,r){"use strict";function s(){return localStorage.getItem("customer_token")}function a(e){localStorage.setItem("customer_token",e)}function n(){localStorage.removeItem("customer_token")}function l(){let e=localStorage.getItem("customer_user");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function o(e){localStorage.setItem("customer_user",JSON.stringify(e))}function i(){localStorage.removeItem("customer_user")}function c(){return null!==s()}r.d(t,{DW:function(){return c},PX:function(){return i},Pc:function(){return s},Xg:function(){return o},jy:function(){return l},nT:function(){return a},v4:function(){return n}})}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=984)}),_N_E=e.O()}]);